{% extends 'base.html' %}
{% block title %}Créer un document — Mini-App HTML → PDF{% endblock %}
{% block content %}
<h2 class="page-title mb-4">Créer un document</h2>

<form method="post" action="{{ url_for('main.form') }}" class="glass rounded-4 p-4">
  {{ form.hidden_tag() }}

  <div class="row g-3">
    <div class="col-12">
      <label class="form-label">Nom</label>
      {{ form.nom(class="form-control form-control-lg", maxlength="50", data_counter="true") }}
      <div class="form-text">{{ form.nom.description }}</div>
      {% for error in form.nom.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
    </div>

    <div class="col-12">
      <label class="form-label">Email</label>
      {{ form.email(class="form-control form-control-lg", maxlength="120", data_counter="true") }}
      <div class="form-text">{{ form.email.description }}</div>
      {% for error in form.email.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
    </div>

    <div class="col-12">
      <label class="form-label">Titre du document</label>
      {{ form.titre(class="form-control form-control-lg", maxlength="100", data_counter="true") }}
      <div class="form-text">{{ form.titre.description }}</div>
      {% for error in form.titre.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
    </div>

    <div class="col-12">
      <label class="form-label">Corps du document</label>
      {{ form.corps(class="form-control", rows=10, data_autosize="true") }}
      <div class="form-text">{{ form.corps.description }}</div>
      {% for error in form.corps.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
    </div>
  </div>

  <div class="d-flex gap-2 mt-4">
    <button type="submit" class="btn btn-success btn-lg">
      Prévisualiser
    </button>
    <a href="{{ url_for('main.history') }}" class="btn btn-outline-light btn-lg">Voir l’historique</a>
  </div>
</form>
{% endblock %}
